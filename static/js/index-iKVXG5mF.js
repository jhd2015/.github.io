var U=(e,i,t)=>new Promise((a,n)=>{var p=u=>{try{c(t.next(u))}catch(f){n(f)}},l=u=>{try{c(t.throw(u))}catch(f){n(f)}},c=u=>u.done?a(u.value):Promise.resolve(u.value).then(p,l);c((t=t.apply(e,i)).next())});import{aM as E,aG as L,d as N,aH as O,aI as z,q as J,n as b,r as v,j as _,o as j,c as D,b as g,h as Y,w as q,g as I,Q as Z,e as B,V as W,P as $,al as ee,_ as te}from"./index-pDgVIYSh.js";const Ye=e=>E.request("post","/hand/add",{data:e}),Ee=e=>E.request("get","/hand/list",{params:e}),Me=e=>E.request("post","/hand/delete",{data:e}),be=e=>E.request("post","/hand/update",{data:e}),ae=e=>E.request("post","/upload",{data:e},{headers:{"Content-Type":"multipart/form-data"}}),ke={upper(e){return E.request("post","/hand/on",{data:e})},lower(e){return E.request("post","/hand/off",{data:e})},free(e){return E.request("post","/hand/free",{data:e})}};function ye(e){if(!navigator.clipboard){oe(e);return}navigator.clipboard.writeText(e).then(function(){L.success("复制成功！")},function(){L.error("复制失败，请手动复制！")})}function oe(e){var i=document.createElement("textarea");i.value=e,i.style.top="0",i.style.left="0",i.style.position="fixed",document.body.appendChild(i),i.focus(),i.select();try{var t=document.execCommand("copy");t&&L.success("复制成功！")}catch(a){L.error("复制失败，请手动复制！")}document.body.removeChild(i)}const ne="data:image/png;base64,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",se="https://jhd2015.github.io/feima/static/png/background-Dwbfwd2b.png",ie="https://jhd2015.github.io/feima/static/png/background2-D6IOcpHt.png",le="https://jhd2015.github.io/feima/static/png/hand-E1bMYT_7.png",ce="https://jhd2015.github.io/feima/static/png/hand2-Col334wJ.png",r=4;function re(){function e(t){return U(this,null,function*(){const a=document.createElement("canvas");let n,p=-11.7*Math.PI/180,l,c=0,u=0;t.width>t.height?(n=yield k(ie),l=yield k(ce),p=-9.7*Math.PI/180):(n=yield k(se),l=yield k(le),c=a.height-l.height);const f=n.width/r,C=n.height/r;a.width=f,a.height=C,c=a.height-l.height/r;const s=a.getContext("2d");if(s.drawImage(n,0,0,f,C),t.width>t.height){s.save();const d=983.05/r,h=695/r,M=(a.width-d)/2,o=(a.height-h)/2;s.translate(M+d/2,o+h/2),s.rotate(p),s.drawImage(t,-d/2+12/r,-h/2+200/r,d,h),s.restore()}else{s.save();const d=795/r,h=1123.14/r,M=(a.width-d)/2,o=(a.height-h)/2;s.translate(M+d/2,o+h/2),s.rotate(p),s.drawImage(t,-d/2-3/r,-h/2+55/r,d,h),s.restore()}s.drawImage(l,u,c,l.width/r,l.height/r);const P=yield k(ne);return G(P,{ctx:s,canvasWidth:a.width,canvasHeight:a.height}),new Promise(d=>{a.toBlob(h=>{const M=new File([h],Date.now()+".png",{type:"image/png",lastModified:Date.now()});a.remove(),d({raw:M,url:URL.createObjectURL(h)})},"image/png",.2)})})}function i(t){const a=new FileReader;return new Promise(n=>{a.onload=p=>U(this,null,function*(){const l=yield k(p.target.result);n(l)}),a.readAsDataURL(t)})}return{combineImages:e,getFileReader:i,ImageLoadimg:k,watermark:G}}function k(e){return new Promise(i=>{const t=new Image;t.onload=()=>{i(t)},t.src=e})}function G(e,{ctx:i,canvasWidth:t,canvasHeight:a}){const n=100/r,p=100/r,l=e.width/r,c=e.height/r,u=Math.ceil(t/(l+n)),f=Math.ceil(a/(c+p));for(let C=0;C<u;C++)for(let s=0;s<f;s++){const P=C*(l+n),d=s*(c+p);i.drawImage(e,P,d,l,c)}}const de={class:"uploadBox"},ue={class:"el-upload-list__item-thumbnail"},he=["src"],pe={key:0,class:"el-upload-list__item-status-label"},ge={class:"el-upload-list__item-actions"},me=["onClick"],Ae=["onClick"],fe=["onClick"],we=N({__name:"index",props:O({name:{default:"1"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{getFileReader:i,combineImages:t}=re(),a="https://feima.mynatapp.cc/admin/upload",n=z(e,"modelValue"),p=J(()=>n.value.map(o=>o.url));b(!1),b("");const l=b(0),c=b(!1);b(!1);const u=b(),f=o=>{u.value.handleRemove(o)},C=o=>{l.value=o,c.value=!0},s=b(0),P=o=>{const m=n.value[o];n.value.forEach(y=>{y.check=!1}),s.value=o,m.check=!0};function d(o,m){h()}const h=ee(M,500);function M(){return U(this,null,function*(){n.value.forEach(o=>{["success","uploading"].includes(o.status)||(o.status="uploading",i(o.raw).then(m=>U(this,null,function*(){try{const y=yield t(m),w=new FormData;w.append("file",y.raw);const R=yield ae(w);R.file=`http://feima.mynatapp.cc/${R.file}`,o.response=R,o.url=R.file,o.status="success"}catch(y){o.status="fail"}})))})})}return(o,m)=>{const y=v("Plus"),w=v("el-icon"),R=v("icon-picture"),V=v("Check"),F=v("Select"),S=v("zoom-in"),T=v("Delete"),X=v("el-upload"),Q=v("el-image-viewer"),K=_("loading");return j(),D("div",de,[g(X,{ref_key:"uploadRef",ref:u,"file-list":n.value,"onUpdate:fileList":m[0]||(m[0]=A=>n.value=A),"list-type":"picture-card",width:"100px",multiple:"",name:"file",action:a,"auto-upload":!1,accept:"image/*",onChange:d},{file:Y(({file:A,index:H})=>[q((j(),D("div",{key:H},[A.status=="fail"?(j(),I(w,{key:0},{default:Y(()=>[g(R)]),_:1})):(j(),D(Z,{key:1},[B("div",ue,[B("img",{width:"100%",height:"100%",src:A.url,alt:""},null,8,he)]),A.check?(j(),D("div",pe,[g(w,{color:"#fff"},{default:Y(()=>[g(V)]),_:1})])):W("",!0),B("span",ge,[B("span",{class:"el-upload-list__item-actions-preview",style:$({color:A.check?"var(--el-color-success)":"#fff"}),onClick:x=>P(H)},[g(w,null,{default:Y(()=>[g(F)]),_:1})],12,me),B("span",{class:"el-upload-list__item-preview",onClick:x=>C(H)},[g(w,null,{default:Y(()=>[g(S)]),_:1})],8,Ae),B("span",{class:"el-upload-list__item-delete",onClick:x=>f(A)},[g(w,null,{default:Y(()=>[g(T)]),_:1})],8,fe)])],64))])),[[K,A.status=="uploading"]])]),default:Y(()=>[g(w,null,{default:Y(()=>[g(y)]),_:1})]),_:1},8,["file-list"]),c.value?(j(),I(Q,{key:0,modelValue:c.value,"onUpdate:modelValue":m[1]||(m[1]=A=>c.value=A),"initial-index":l.value,"url-list":p.value,style:{"z-index":"99999999999"},"z-index:":"99999999999",teleported:!0,onClose:m[2]||(m[2]=A=>c.value=!1)},null,8,["modelValue","initial-index","url-list"])):W("",!0)])}}}),Re=te(we,[["__scopeId","data-v-00c16a93"]]);export{k as I,Re as R,Me as a,be as b,ye as c,Ye as d,ae as e,Ee as h,ke as o,ne as s,G as w};
