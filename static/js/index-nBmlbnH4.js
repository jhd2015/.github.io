var y=(e,s,a)=>new Promise((o,i)=>{var p=h=>{try{c(a.next(h))}catch(g){i(g)}},l=h=>{try{c(a.throw(h))}catch(g){i(g)}},c=h=>h.done?o(h.value):Promise.resolve(h.value).then(p,l);c((a=a.apply(e,s)).next())});import{aM as f,aG as D,d as Q,aH as S,aI as K,q as N,n as E,r as Y,j as O,o as j,c as k,b as A,h as b,w as z,g as L,Q as J,e as U,V as x,al as q,_}from"./index-tAXreV-5.js";const Ae=e=>f.request("post","/hand/add",{data:e}),fe=e=>f.request("get","/hand/list",{params:e}),we=e=>f.request("post","/hand/delete",{data:e}),ve=e=>f.request("post","/hand/update",{data:e}),Ce=()=>f.request("get","/hand/categories"),Z=e=>f.request("post","/upload",{data:e},{headers:{"Content-Type":"multipart/form-data"}}),Ye={upper(e){return f.request("post","/hand/on",{data:e})},lower(e){return f.request("post","/hand/off",{data:e})},free(e){return f.request("post","/hand/free",{data:e})}};function Ee(e){if(!navigator.clipboard){$(e);return}navigator.clipboard.writeText(e).then(function(){D.success("复制成功！")},function(){D.error("复制失败，请手动复制！")})}function $(e){var s=document.createElement("textarea");s.value=e,s.style.top="0",s.style.left="0",s.style.position="fixed",document.body.appendChild(s),s.focus(),s.select();try{var a=document.execCommand("copy");a&&D.success("复制成功！")}catch(o){D.error("复制失败，请手动复制！")}document.body.removeChild(s)}const ee="data:image/png;base64,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",te="https://jhd2015.github.io/feima/static/png/background-Dwbfwd2b.png",ae="https://jhd2015.github.io/feima/static/png/background2-D6IOcpHt.png",oe="https://jhd2015.github.io/feima/static/png/hand-E1bMYT_7.png",ne="https://jhd2015.github.io/feima/static/png/hand2-Col334wJ.png",r=2;function se(){function e(a){return y(this,null,function*(){const o=document.createElement("canvas");let i,p=-11.7*Math.PI/180,l,c=0,h=0;a.width>a.height?(i=yield M(ae),l=yield M(ne),p=-9.7*Math.PI/180):(i=yield M(te),l=yield M(oe),c=o.height-l.height);const g=i.width/r,w=i.height/r;o.width=g,o.height=w,c=o.height-l.height/r;const n=o.getContext("2d");if(n.drawImage(i,0,0,g,w),a.width>a.height){n.save();const d=983.05/r,t=695/r,u=(o.width-d)/2,v=(o.height-t)/2;n.translate(u+d/2,v+t/2),n.rotate(p),n.drawImage(a,-d/2+12/r,-t/2+200/r,d,t),n.restore()}else{n.save();const d=795/r,t=1123.14/r,u=(o.width-d)/2,v=(o.height-t)/2;n.translate(u+d/2,v+t/2),n.rotate(p),n.drawImage(a,-d/2-3/r,-t/2+55/r,d,t),n.restore()}n.drawImage(l,h,c,l.width/r,l.height/r);const B=yield M(ee);return H(B,{ctx:n,canvasWidth:o.width,canvasHeight:o.height}),new Promise(d=>{o.toBlob(t=>{const u=new File([t],Date.now()+".png",{type:"image/png",lastModified:Date.now()});o.remove(),d({raw:u,url:URL.createObjectURL(t)})},"image/png",1)})})}function s(a){const o=new FileReader;return new Promise(i=>{o.onload=p=>y(this,null,function*(){const l=yield M(p.target.result);i(l)}),o.readAsDataURL(a)})}return{combineImages:e,getFileReader:s,ImageLoadimg:M,watermark:H}}function M(e){return new Promise(s=>{const a=new Image;a.onload=()=>{s(a)},a.src=e})}function H(e,{ctx:s,canvasWidth:a,canvasHeight:o}){const i=100/r,p=100/r,l=e.width/r,c=e.height/r,h=Math.ceil(a/(l+i)),g=Math.ceil(o/(c+p));for(let w=0;w<h;w++)for(let n=0;n<g;n++){const B=w*(l+i),d=n*(c+p);s.drawImage(e,B,d,l,c)}}const ie={class:"uploadBox"},le={class:"el-upload-list__item-thumbnail"},ce=["src"],re={key:0,class:"el-upload-list__item-status-label"},de={class:"el-upload-list__item-actions"},ue=["onClick"],he=["onClick"],pe=Q({__name:"index",props:S({name:{default:"1"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const{getFileReader:s,combineImages:a}=se(),o="https://feima.mynatapp.cc/admin/upload",i=K(e,"modelValue"),p=N(()=>i.value.map(t=>t.url));E(!1),E("");const l=E(0),c=E(!1);E(!1);const h=E(),g=t=>{h.value.handleRemove(t)},w=t=>{l.value=t,c.value=!0};E(0);function n(t,u){B()}const B=q(d,500);function d(){return y(this,null,function*(){i.value.forEach(t=>{["success","uploading"].includes(t.status)||(t.status="uploading",s(t.raw).then(u=>y(this,null,function*(){try{const v=yield a(u),C=new FormData;C.append("file",v.raw);const R=yield Z(C);R.file=`http://feima.mynatapp.cc/${R.file}`,t.response=R,t.url=R.file,t.status="success"}catch(v){t.status="fail"}})))})})}return(t,u)=>{const v=Y("Plus"),C=Y("el-icon"),R=Y("icon-picture"),W=Y("Check"),I=Y("zoom-in"),G=Y("Delete"),V=Y("el-upload"),F=Y("el-image-viewer"),T=O("loading");return j(),k("div",ie,[A(V,{ref_key:"uploadRef",ref:h,"file-list":i.value,"onUpdate:fileList":u[0]||(u[0]=m=>i.value=m),"list-type":"picture-card",width:"100px",multiple:"",name:"file",action:o,"auto-upload":!1,accept:"image/*",onChange:n},{file:b(({file:m,index:P})=>[z((j(),k("div",{key:P},[m.status=="fail"?(j(),L(C,{key:0},{default:b(()=>[A(R)]),_:1})):(j(),k(J,{key:1},[U("div",le,[U("img",{width:"100%",height:"100%",src:m.url,alt:""},null,8,ce)]),m.check?(j(),k("div",re,[A(C,{color:"#fff"},{default:b(()=>[A(W)]),_:1})])):x("",!0),U("span",de,[U("span",{class:"el-upload-list__item-preview",onClick:X=>w(P)},[A(C,null,{default:b(()=>[A(I)]),_:1})],8,ue),U("span",{class:"el-upload-list__item-delete",onClick:X=>g(m)},[A(C,null,{default:b(()=>[A(G)]),_:1})],8,he)])],64))])),[[T,m.status=="uploading"]])]),default:b(()=>[A(C,null,{default:b(()=>[A(v)]),_:1})]),_:1},8,["file-list"]),c.value?(j(),L(F,{key:0,modelValue:c.value,"onUpdate:modelValue":u[1]||(u[1]=m=>c.value=m),"initial-index":l.value,"url-list":p.value,style:{"z-index":"99999999999"},"z-index:":"99999999999",teleported:!0,onClose:u[2]||(u[2]=m=>c.value=!1)},null,8,["modelValue","initial-index","url-list"])):x("",!0)])}}}),be=_(pe,[["__scopeId","data-v-f4d9515b"]]);export{M as I,be as R,we as a,ve as b,Ee as c,Ae as d,Z as e,Ce as g,fe as h,Ye as o,ee as s,H as w};
